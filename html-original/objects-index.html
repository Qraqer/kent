@@include('./components/common/header.html', { title: 'Разводящая' })

@@include('./components/common/explain_assets.html')

<div class="container">

<div class="explain">
  <h3 class="explain__title js-explain-opener">Информация о задаче</h3>
  <div class="explain__box">
    <div class="explain__box-inner">
      <p><b>Исполнитель:</b> Григорий Голов, <a href="mailto:GGolov@daichi.ru">GGolov@daichi.ru</a>,
        <a href="https://wa.me/79219345244">WhatsApp</a>,
        <a href="https://t.me/GragG">Telegram</a>
      </p>
      <p><b>Задача в Jira:</b> <a href="https://blpctrade.atlassian.net/browse/PS-724" target="_new">PS-724 «Верстка раздела объекты на Kentatsu Global»</a></p>
      <!--
      <p><b>Ветка git:</b> <a href="https://git.daichicloud.ru/b2b/daichi.business/-/tree/feature/loyalty2025" target="_new">daichi.business/feature/loyalty2025</a></p>
      -->
    </div>
  </div>
</div>

<div class="explain">
  <h3 class="explain__title js-explain-opener">Для интеграции</h3>
  <div class="explain__box">
    <div class="explain__box-inner">
      <ul>
        <li>В меню (верхнее и нижнее) добавляется пункт "Объекты".</li>
        <li>Для изображений использован тег picture с вложенными тегами source (для показа .webp) и img (для .jpg/.png). Если вариант с .webp отсутствует, уберите source. Конструкцию &lt;picture&gt;&lt;img&gt;&lt;/img&gt;&lt;/picture&gt; <b>необходимо сохранить!</b></li>
        <li>На Главной - новый блок "Объекты".
          <br>Шаблон блока лежит здесь: source/components/main/objects.html
          <br>Шаблон слайда - здесь: source/components/main/object_slide.html</li>
        <li>Страница со списком объектов. Состоит из фильтра объектов, списка объектов и кнопки "Показать еще".</li>
        <li>Шаблон карточки объекта в списке лежит здесь:
          <br>source/components/objects/card.html
        </li>
        <li>Обработчик для кнопки "Показать еще" не создавался.</li>
        <li>Фильтр объектов состоит из стандартных селектов, на которые навешивается Select2. Это уже реализовано на сайте, используется имеющийся шаблон для select.</li>
        <li>Предполагается, что при изменении настроек фильтра загрузка контента осуществляется посредством ajax-запросов. Во время обработки запроса должен появляться спиннер. Для показа спиннера нужно вызвать функцию spinner.showLoader(). Для скрытия спиннера вызовите функцию spinner.hideLoader().</li>
        <li>Форма на странице объекта. Для осуществления проверки на стороне клиента на заполненность обязательных полей формы в поля необходимо добавить атрибут 'required'.</li>
        <li>Форма на странице объекта. Для обработки формы необходимо задать callback-функцию. Это делается путем передачи callback-функции в objects.formHandler следующим образом:
          <pre>objects.formHandler = () => {
  const formData = new FormData(document.querySelector('.object__form form'));
  console.log('Form filling success: ', Object.fromEntries(formData.entries()));
}</pre>
          При нажатии кнопки "Отправить" сначала осуществляется проверка обязательных полей формы на предмет заполненности. В случае, если все обязательные поля заполнены, осуществляется вызов указанной callback-функции.</li>
      </ul>
    </div>
  </div>
</div>

<div class="explain is--opened">
  <h3 class="explain__title js-explain-opener">Страницы</h3>
  <div class="explain__box">
    <div class="explain__box-inner">
      <ol>
        <li><a href="main_new.html">Главная</a></li>
        <li><a href="objects_list.html">Объекты - разводящая</a></li>
        <li><a href="objects_list-loading.html">Объекты - разводящая, загрузка фильтрованного контента</a></li>
        <li><a href="objects_list-empty.html">Объекты - разводящая, ничего не найдено</a></li>
        <li><a href="objects_page.html">Объект - страница конкретного объекта</a></li>
        <li><a href="objects_page-modal.html">Объект - модальное окно об успешной отправке формы</a></li>
      </ol>
    </div>
  </div>
</div>

</div>
@@include('./components/common/footer.html')